<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Modifier Event</title>
    <link rel="stylesheet" href="styleAjouter.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body>
    <div class="background"></div>
    <div class="form-container">
      <h2>Modify Event</h2>
      <form>
        <div class="form-group">
          <label for="titre">Titre de la visite:</label>
          <input type="text" id="titre" name="titre" required />
        </div>
        <div class="form-group">
          <label for="date">Date:</label>
          <input type="date" id="date" name="date" required />
        </div>
        <div class="form-group">
          <label for="personne">Personne:</label>
          <select id="personne" name="personne" required>
            <option value="" disabled selected>Select Personne</option>
          </select>
        </div>
        <div class="form-group">
          <label for="ouvrage">Ouvrage:</label>
          <select id="ouvrage" name="ouvrage" required>
            <option value="" disabled selected>Select Ouvrage</option>
          </select>
        </div>
        <div class="form-group">
          <label for="heureDebut">Heure DÃ©but:</label>
          <input type="time" id="heureDebut" name="heureDebut" required />
        </div>
        <div class="form-group">
          <label for="heureFin">Heure Fin:</label>
          <input type="time" id="heureFin" name="heureFin" required />
        </div>
        <div class="form-group">
          <button type="submit" id="submitBtn">Modify</button>
          <button type="button" id="cancelBtn">Cancel</button>
          <button type="button" id="DeleteBtn">Delete</button>
          <div id="confirmation-popup" class="hidden">
            <p>Are you sure you want to delete?</p>
            <button type="button" id="confirm-delete">Yes</button>
            <button type="button" id="cancel-delete">No</button>
          </div>
        </div>
      </form>
    </div>
  </body>
  <script>
    const deleteButton = document.getElementById("DeleteBtn");
    const confirmationPopup = document.getElementById("confirmation-popup");
    const confirmDeleteButton = document.getElementById("confirm-delete");
    const cancelDeleteButton = document.getElementById("cancel-delete");

    deleteButton.addEventListener("click", function () {
      confirmationPopup.classList.remove("hidden");
    });

    cancelDeleteButton.addEventListener("click", function () {
      confirmationPopup.classList.add("hidden");
    });

    confirmDeleteButton.addEventListener("click", function () {
      // Delete the item here
      // remove id bla bla bla
      confirmationPopup.classList.add("hidden");
    });
  </script>
  <script src="./globalVariables.js"></script>
  <script type="text/javascript">
    selectPole = document.getElementById("ouvrage");

    poles_list.forEach((element) => {
      var optionX = document.createElement("option");
      optionX.value = element.name;
      optionX.innerText = element.name;

      optionX.id = "pl" + element.id;
      selectPole.append(optionX);
    });

    selectPersonne = document.getElementById("personne");

    Utilisateurs.forEach((user) => {
      var optionX = document.createElement("option");
      optionX.value = user[1] + " " + user[2];
      optionX.innerText = user[1] + " " + user[2];

      optionX.id = user[0];
      selectPersonne.append(optionX);
    });
  </script>
</html>
